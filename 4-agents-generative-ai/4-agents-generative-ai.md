## Oracle Generative AI Agents

A seguir o passo a passo do laborat√≥rio.
### **Recursos e Suporte**:

- **Download dos PDFs**: Neste laborat√≥rio utilizaremos dois documentos:
     - [Normas Internas Dataprev](https://www.dataprev.gov.br/governanca/normativos/normasinternas): Para o nosso exemplo, utilizaremos o arquivo **Viagem a Servi√ßo Nacional**.
     - [Revista Dataprev Resultados n¬∫ 16](https://www.dataprev.gov.br/acompanhe-dataprev-publicacoes/revista-dataprev-resultados): Para o nosso exemplo, utilizaremos o arquivo **Revista Dataprev Resultados n¬∫ 16**.
- **Documenta√ß√£o da Oracle Cloud**: [Generative AI Agents](https://docs.oracle.com/pt-br/iaas/Content/generative-ai-agents/home.htm)
- **Tutoriais**: [Deploy an ODA Chatbot powered by Generative AI Agents](https://apexapps.oracle.com/pls/apex/f?p=133:180:2908048658105::::wid:4022)


### _**Aproveite sua experi√™ncia na Oracle Cloud!**_

## üìå Introdu√ß√£o

>**O OCI Generative AI Agents √© um servi√ßo avan√ßado que combina o poder dos grandes modelos de linguagem (LLMs) com t√©cnicas de recupera√ß√£o inteligente, permitindo que organiza√ß√µes desenvolvam agentes virtuais capazes de fornecer respostas contextuais e precisas ao consultar suas bases de conhecimento.** 

![AI Agents](images/ai-agent.png)
Refer√™ncia: [Generative AI Agents](https://www.oracle.com/br/artificial-intelligence/generative-ai/agents/)

### ‚û°Ô∏è **Recursos principais**
Com funcionalidades avan√ßadas, o OCI Generative AI Agents oferece uma experi√™ncia poderosa e eficiente.
- **Integra√ß√£o de dados e canais de intera√ß√£o:** Suporte a chat e API, facilitando a intera√ß√£o entre usu√°rios e agentes.  
- **Respostas contextualmente relevantes:** As respostas s√£o geradas com base em consultas inteligentes √† base de conhecimento, garantindo precis√£o e contexto.  
- **Pesquisa h√≠brida:** Combina m√©todos l√©xicos e sem√¢nticos para alcan√ßar maior assertividade nas respostas.  
- **Modera√ß√£o de conte√∫do:** Garante intera√ß√µes seguras e respeitosas com controles para entrada e sa√≠da de dados.  
- **Conversas multi-turn:** Permite que usu√°rios fa√ßam perguntas de acompanhamento, com respostas que levam em conta o hist√≥rico da conversa.  
- **Interpreta√ß√£o de elementos visuais:** Capacidade de interpretar gr√°ficos e tabelas em PDFs sem necessidade de descri√ß√µes adicionais.  
- **Hiperlinks autom√°ticos:** Os links presentes nos documentos s√£o automaticamente extra√≠dos e inclu√≠dos nas respostas.  


### ‚û°Ô∏è **Como o OCI Generative AI Agents revoluciona a intera√ß√£o com bases de conhecimento?**

O servi√ßo transforma a forma como os agentes interagem ao:  

- **Aumentar a transpar√™ncia e a rastreabilidade:** Cada resposta pode ser vinculada √† sua fonte original, garantindo responsabilidade.  
- **Garantir atualiza√ß√µes cont√≠nuas:** Bases de conhecimento podem ser atualizadas sem interromper o funcionamento do agente.  
- **Oferecer escalabilidade e seguran√ßa:** Arquitetura robusta que suporta cargas crescentes sem comprometer a integridade dos dados.

<br>

### üìå **Objetivos**

Descubrir como utilizar de forma pr√°tica a funcionalidade de busca vetorial do Oracle Generative AI Agents para otimizar consultas em documentos no formato PDF.

O que voc√™ aprender√°:

- Criar buckets no Object Storage e realizar o upload de documentos PDF.
- Configurar e utilizar o servi√ßo OCI Generative AI Agent para criar bases de conhecimento e agentes conversacionais.
- Explorar como implementar a funcionalidade de Retrieval-Augmented Generation (RAG) para consultar documentos personalizados com efici√™ncia e contexto.

<br>

## 1Ô∏è‚É£ Interface de Intera√ß√£o com o Assistente Virtual

### **Agente e Endpoint (destacado em azul)**

> - **Agent:** Neste campo voc√™ seleciona o agente configurado para responder √†s suas perguntas. No exemplo, o agente selecionado √© o **ai-agent**.
> <br>
> - **Agent Endpoint:** O endpoint associado ao agente. Este √© o ponto de acesso que conecta o assistente √†s bases de conhecimento.

### **√Årea de Chat (destacada em vermelho)**

Esta √© a √°rea principal onde voc√™ pode interagir com o agente. Aqui, o assistente exibe a mensagem de sauda√ß√£o que configuramos e as respostas √†s suas perguntas.

> -  O campo **Type a message...** √© onde voc√™ insere suas perguntas. Ap√≥s digitar, clique em **Submit** para enviar a mensagem.
> -  O bot√£o **Reset chat session** permite reiniciar a sess√£o de chat, apagando o hist√≥rico atual de intera√ß√£o.

### **Traces (destacado em laranja)**

> O painel Traces mostra detalhes t√©cnicos de cada intera√ß√£o com o agente, como as **consultas realizadas, os resultados gerados e os detalhes da p√°gina e par√°grafo cujas informa√ß√µes foram obtidas**. Este recurso √© √∫til para analisar como o assistente processa as perguntas e recupera informa√ß√µes da base de conhecimento.

![Interface Agent](images/interface-agent.png)

Na imagem abaixo, voc√™ pode observar o funcionamento do assistente virtual ao responder perguntas baseadas em diferentes documentos previamente carregados na base de conhecimento.

1. A pergunta **"O que √© o Programa de Qualifica√ß√£o de Dados e Benef√≠cios?"** foi realizada com base em um documento espec√≠fico presente na base de conhecimento.
2. Outra pergunta foi realizada: **"Quais situa√ß√µes podem gerar reembolso na viagem a servi√ßo nacional?"**, utilizando informa√ß√µes de um documento diferente da mesma base de conhecimento.

Exemplos de perguntas para os documentos utilizados:

> ### **Revista Dataprev**
> 1. Qual √© o objetivo principal da Dataprev nos seus 50 anos de atua√ß√£o?
> 2. O que √© a Infraestrutura Nacional de Dados (IND)?
> 3. Quais foram os avan√ßos tecnol√≥gicos destacados pela Dataprev?
> 4. Como a Dataprev contribui para a soberania digital do Brasil?
> ### **Normas internas**
> 1. Quem est√° sujeito √† aplica√ß√£o da norma de Viagem a Servi√ßo Nacional?
> 2. O que √© o adicional de deslocamento de embarque e desembarque?
> 3. Quais tipos de altera√ß√£o de viagem s√£o previstos?
> 4. O que √© a Proposta de Concess√£o de Di√°rias e Passagens (PCDP)?
> 5. Qual o prazo para presta√ß√£o de contas ap√≥s a viagem?
> 6. Quais s√£o os valores estabelecidos para di√°rias e deslocamentos?


![Questions](images/questions-agent.png)

Ao clicar em **View Citations**, voc√™ expande as refer√™ncias utilizadas pelo assistente para gerar a resposta. Os **√≠cones** √† esquerda permitem abrir o documento em outra aba do navegador ou fazer o download do arquivo, respectivamente 

Cada cita√ß√£o apresenta as seguintes informa√ß√µes:

> - **Title:** O nome do arquivo PDF de onde a informa√ß√£o foi extra√≠da (neste exemplo, revistadataprevresultados16_web_2_2.pdf).
> - **Object storage path:** O caminho do arquivo no armazenamento do OCI.
> - **Document ID:** Um identificador √∫nico do documento.
> - **Page numbers:** Indica o n√∫mero da p√°gina no documento de onde a informa√ß√£o foi retirada.
> - **Source text:** Exibe o trecho exato do documento utilizado para compor a resposta do assistente.

![Citations](images/citations.png)


Laborat√≥rio finalizado! Parab√©ns por concluir todas as etapas. Fique √† vontade para criar novas perguntas, explorar a sua aplica√ß√£o e descobrir ainda mais possibilidades com o seu assistente virtual.

Voc√™ poder√° seguir para o pr√≥ximo laborat√≥rio.

## 2Ô∏è‚É£ [EXTRA] Embeddings com OCI Generative AI

### ‚ùì**O que s√£o Embeddings?**
> Embeddings s√£o representa√ß√µes vetoriais de objetos, como textos ou imagens. **Ao transformar objetos em vetores, conseguimos realizar opera√ß√µes matem√°ticas que permitem comparar, analisar e calcular a similaridade entre eles.** Isso possibilita, por exemplo, identificar semelhan√ßas entre textos ou buscar informa√ß√µes relevantes de forma eficaz.

### üîç **Por que Embeddings s√£o importantes?**
>   - **An√°lise de Similaridade:** Com embeddings, podemos calcular a proximidade entre diferentes objetos, facilitando a identifica√ß√£o de itens semelhantes.
>    - **Efici√™ncia Computacional:** Representar dados em vetores torna o processamento de informa√ß√µes mais r√°pido e eficiente.
>    - **Versatilidade:** Embeddings podem ser usados em v√°rios contextos, como busca de informa√ß√µes, recomenda√ß√£o de conte√∫do, entre outros.

Vamos acessar o Servi√ßo de OCI Generative AI. A forma mais simples de fazer isto √© pesquisando por
**‚ÄúGenerative AI‚Äù** na aba de busca:

   ![Search Generative AI](images/search-genai.png " ")

Uma vez dentro do servi√ßo, vamos selecionar **‚ÄúEmbedding‚Äù**, no menu do canto esquerdo, abaixo de **‚ÄúPlayground‚Äù**.

   ![Acess Playground](images/genai-playground-acess.png " ")

Dentro do PlayGround, vamos na caixa de sele√ß√£o ‚Äúmodel‚Äù e vamos selecionar o modelo **cohere.embed-multilingual-v3**, em seguida, adicione as frases abaixo nas caixas brancas dispon√≠veis. N√£o √© necess√°rio que estejam em ordem:

    <copy>
    Cachorros s√£o animais incr√≠veis.
    </copy>
<!-- Separador -->

    <copy>  
    Eu amo c√£es, s√£o fant√°sticos.  
    </copy>  
<!-- Separador -->

    <copy>  
    Cachorros adoram brincar ao ar livre e correr pelo parque.  
    </copy>  
<!-- Separador -->

    <copy>  
    Os gatos s√£o animais elegantes e misteriosos.  
    </copy>  
<!-- Separador -->

    <copy>  
    Gatos s√£o mestres em encontrar os melhores lugares para dormir.  
    </copy>  
<!-- Separador -->

    <copy>  
    Gatos t√™m uma habilidade incr√≠vel de se espremer em espa√ßos pequenos.  
    </copy>  
<!-- Separador -->

    <copy>  
    A Porsche faz carros bel√≠ssimos.  
    </copy>  
<!-- Separador -->

    <copy>  
    A Ferrari √© conhecida por seus carros velozes.  
    </copy>  
<!-- Separador -->

    <copy>  
    Carros esportivos s√£o feitos para quem busca emo√ß√£o na estrada.  
    </copy>  
<!-- Separador -->

    <copy>  
    Gatos gostam de se esconder nos carros esportivos, como em uma Ferrari.  
    </copy>  
<!-- Separador -->

    <copy>  
    Cachorros adoram aproveitar o vento enquanto passeiam em carros convers√≠veis, como um Porsche.  
    </copy>  

![Embeddings](images/embeddings.png " ")

Em seguida, clique em **Run**.

![Embeddings Response](images/embeddings-response.png " ")

> **Os vetores de embeddings costumam ter muitas dimens√µes (em geral, entre 512 e 1024 dimens√µes). Como √© imposs√≠vel visualizar graficamente algo com tantas dimens√µes, o que costuma ser feito √© uma ‚ÄúProje√ß√£o‚Äù destes vetores multidimensionais em superf√≠cies bidimensionais, permitindo a visualiza√ß√£o.**

A proximidade entre os vetores no gr√°fico representa a **similaridade sem√¢ntica entre as frases.** Quanto mais pr√≥ximos dois pontos est√£o, mais semelhantes s√£o as frases em termos de conte√∫do e contexto, de acordo com o modelo de embedding.

Por exemplo:
   - **Vetores 1, 2, 3, 4, 5 e 6:** As frases sobre caracter√≠sticas e comportamentos de gatos e cachorros est√£o agrupadas, refletindo similaridades relacionadas aos animais e suas a√ß√µes t√≠picas.
   - **Vetores 7, 8 e 9:** As frases que mencionam carros esportivos e marcas como Ferrari e Porsche est√£o pr√≥ximas entre si, j√° que compartilham temas de autom√≥veis e experi√™ncias de dire√ß√£o.
   - **Vetores 10 e 11:** As frases sobre "gato e Ferrari" e "cachorro e Porsche" est√£o pr√≥ximas entre si e dos clusters de carros de luxo, pois combinam comportamentos de animais de estima√ß√£o com autom√≥veis, unindo ambos os temas.

## üë• Agradecimentos

- **Autores** - Isabelle Anjos
- **Autores Contribuintes** - Caio Oliveira, Gabriela Miyazima, Aristotelles Serra
- **√öltima Atualiza√ß√£o Por/Data** - Janeiro 2025

## üõ°Ô∏è Declara√ß√£o de Porto Seguro (Safe Harbor)

O tutorial apresentado tem como objetivo tra√ßar a orienta√ß√£o dos nossos produtos em geral. √â destinado somente a fins informativos e n√£o pode ser incorporado a um contrato. Ele n√£o representa um compromisso de entrega de qualquer tipo de material, c√≥digo ou funcionalidade e n√£o deve ser considerado em decis√µes de compra. O desenvolvimento, a libera√ß√£o, a data de disponibilidade e a precifica√ß√£o de quaisquer funcionalidades ou recursos descritos para produtos da Oracle est√£o sujeitos a mudan√ßas e s√£o de crit√©rio exclusivo da Oracle Corporation.

Esta √© a tradu√ß√£o de uma apresenta√ß√£o em ingl√™s preparada para a sede da Oracle nos Estados Unidos. A tradu√ß√£o √© realizada como cortesia e n√£o est√° isenta de erros. Os recursos e funcionalidades podem n√£o estar dispon√≠veis em todos os pa√≠ses e idiomas. Caso tenha d√∫vidas, entre em contato com o representante de vendas da Oracle. 
